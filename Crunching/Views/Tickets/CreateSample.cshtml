@model Crunching.Models.Tickets

@{
    ViewBag.Title = "Create";
    Layout = null;
}

@Html.Partial("Init")


<link href="@Url.Content("~/assets/css/dropzone.css")" rel="stylesheet" type="text/css" />
<script src="@Url.Content("~/Scripts/jquery.validate.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>
<header id="header-filter" class="header-close">
    <div class="header-filter-menu">
        <a href="@Url.Action("Index", "Home")" class="margin-right-xxl margin-left-xxl" style="color:#fff;"><i class="fa fa-long-arrow-left margin-right-xl"></i> Close, back to stream</a>
    </div>
</header>
<!-- BEGIN CONTENT-->
<div id="content">
    <section>
        <div class="section-body contain-lg">

            <!-- INTRO BEGIN -->
            <div class="row margin-bottom-xxl">
                <div class="col-sm-10 col-sm-offset-1">
                    <h1 class="text-primary" style="color:#fff;">Request sample</h1>
                </div><!--end .col -->
                <
            </div><!--end .row -->
            <!-- END INTRO -->
            <!-- YOUR OPEN TASKS BEGINN -->
            <div class="row">

                <div class="col-sm-10 col-sm-offset-1 margin-bottom-xxl">
                    <div class="card card-bordered style-primary">
                        <div class="card-head">
                            <header>Please insert your data in the following fields:</header>
                        </div><!--end .card-head -->
                        <div class="card-body style-default-bright">

                            <div class="col-sm-12">
                                @using (Html.BeginForm("CreateSample", "Tickets", FormMethod.Post, new { @role = "form", enctype = "multipart/form-data", @id = "Create", @class = "form" }))
                                {
                                    @Html.ValidationSummary(true)

                                    <div class="form-group floating-label">
                                        @Html.TextBoxFor(model => model.refNumber, new { @class = "form-control" })
                                        <label>Reference number</label>
                                    </div>
                                    <div class="form-group floating-label">
                                        @Html.TextBoxFor(model => model.casting, new { @class = "form-control" })
                                        <label>Casting / Project</label>
                                    </div>
                                    <div class="form-group floating-label">
                                        @Html.TextBoxFor(model => model.technicalRequest, new { @class = "form-control" })
                                        <label>Technical request</label>
                                    </div>
                                 
                                  <div class="form-group floating-label">
								            @Html.EditorFor(model => model.technicalDrawingRequired, new { @class = "form-control" })
                                            <label >Please send me a Quotation for this product</label>
							      </div>
                                  <div class="form-group floating-label">
								            @Html.EditorFor(model => model.riserDrawing, new { @class = "form-control" })
                                            <label >I Need the CAD data of the riser</label>
							      </div>
                                  <div class="form-group floating-label">
								            @Html.EditorFor(model => model.fixedPinDrawing, new { @class = "form-control" })
                                            <label >I Need a drawing of a fixed pin</label>
							      </div>
                                  <div class="form-group floating-label">
								            @Html.EditorFor(model => model.springLoadedPinDrawing, new { @class = "form-control" })
                                            <label >I Need a drawing of a spring loaded pin</label>
							      </div>
                                    <div class="form-group floating-label">
									        @Html.TextBoxFor(model => model.deliveryDate, new { @class = "form-control" })
                                            <label >Delivery date</label>
						          </div>
                                   <div class="form-group floating-label">
									        @Html.TextBoxFor(model => model.requestedQuantity, new { @class = "form-control" })
                                            <label >Requested Quantity</label>
						          </div>
                                      <div class="form-group floating-label">
									        @Html.TextBoxFor(model => model.scheduledTrailDate, new { @class = "form-control" })
                                            <label >Scheduled Trail date</label>
						          </div>
                                  <div class="form-group floating-label">
								            @Html.TextAreaFor(model => model.additionalComment, new { @class = "form-control", @rows = "5", @placeholder = "", @style = "background-image: none; background-position: 0% 0%; background-repeat: repeat;" })
                                            <label >Aditional comments</label>
							      </div> 
                                 
                                  @Html.HiddenFor(m => m.idProduct)
                                    if (User.IsInRole("GTP"))
                                    {
                                        <div class="form-group floating-label">
                                            @Html.EditorFor(model => model.isInternal, new { @class = "form-control" })
                                            <label>Internal</label>
                                        </div>

                                    }
                                    <div class="form-group floating-label">
                                        <label>This ticket is being assigned automatically to</label>
                                        <p class="form-control-static">Your key account manager</p>
                                    </div>
                                    <div class="card-actionbar">
                                        <div class="card-actionbar-row">
                                            <button type="submit" class="btn btn-lg btn-primary-dark ink-reaction" onclick="document.forms[0].submit()">Request sample now</button>
                                        </div>
                                    </div>
                                }
                            </div><!--end .col -->
                        </div><!--end .card -->

                    </div><!--end .col -->
                </div><!--end .row -->
            </div><!--end .row -->

        </div><!--end .section-body -->
    </section>
</div><!--end #content-->
@Html.Partial("end")
<script>
    $(document).ready(
        $('#my-awesome-dropzone').dropzone({
            url: '/Tickets/CreateBesuchsbericht',
            paramName: "files",
            uploadMultiple: false
        })
    );
</script>



